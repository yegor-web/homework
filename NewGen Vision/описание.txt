нашел необходимую мне библиотеку с фильтрами для определенного уровня вложенности. После чего были подключенны необходимые функции 
для работы с библиотекой. Фильтрация осуществляется при использовании данного списка и списка фильтра 